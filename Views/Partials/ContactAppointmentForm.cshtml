@* ContactAppointmentForm.cshtml *@
@model btlast.Models.ContactFormViewModel

<link rel="stylesheet" href="/css/contact-appointment-form.css">

<div id="contactFormContainer" class="contact-form-container">
    @using (Html.BeginUmbracoForm("SubmitContactForm", "Contact", FormMethod.Post, new { @id = "contactAppointmentForm", @class = "contact-form", @autocomplete = "off", @novalidate = "novalidate" }))
    {
        @Html.AntiForgeryToken()
        <input type="hidden" name="FormType" id="formType" value="contact" />

        <div class="form-tabs">
            <button type="button" class="tab-button active" data-tab="contact">İletişim Formu</button>
            <button type="button" class="tab-button" data-tab="appointment">Randevu Al</button>
        </div>

        <div id="loadingOverlay" class="loading-overlay" style="display:none;">
            <div class="loading-spinner"></div>
            <p>Gönderiliyor...</p>
        </div>

        <div class="tab-content active" id="contactTab">
            <h3>İletişim Formu</h3>
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="name">Ad Soyad *</label>
                    <input type="text" class="form-control" id="name" name="Name" required placeholder="Adınızı ve soyadınızı giriniz" />
                </div>
            </div>
            <div class="form-row">
                <div class="form-group half">
                    <label class="form-label" for="email">Email *</label>
                    <input type="email" class="form-control" id="email" name="Email" required placeholder="ornek@email.com" />
                </div>
                <div class="form-group half">
                    <label class="form-label" for="phone">Telefon *</label>
                    <input type="tel" class="form-control" id="phone" name="Phone" required placeholder="0555 123 45 67" />
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="subject">Konu</label>
                    <input type="text" class="form-control" id="subject" name="Subject" placeholder="Mesajınızın konusu" />
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="message">Mesaj</label>
                    <textarea class="form-control" id="message" name="Message" rows="5" placeholder="Mesajınızı buraya yazınız..."></textarea>
                </div>
            </div>
        </div>

        <div class="tab-content" id="appointmentTab">
            <h3>Randevu Talep Formu</h3>
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="apptName">Ad Soyad *</label>
                    <input type="text" class="form-control" id="apptName" name="Name" required placeholder="Adınızı ve soyadınızı giriniz" />
                </div>
            </div>
            <div class="form-row">
                <div class="form-group half">
                    <label class="form-label" for="apptEmail">Email *</label>
                    <input type="email" class="form-control" id="apptEmail" name="Email" required placeholder="ornek@email.com" />
                </div>
                <div class="form-group half">
                    <label class="form-label" for="apptPhone">Telefon *</label>
                    <input type="tel" class="form-control" id="apptPhone" name="Phone" required placeholder="0555 123 45 67" />
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Randevu Türü *</label>
                    <div class="appointment-types">
                        <label class="appointment-option">
                            <input type="radio" name="AppointmentType" value="Telefon Görüşmesi" required />
                            <span class="option-content"><i>📞</i><span>Telefon</span></span>
                        </label>
                        <label class="appointment-option">
                            <input type="radio" name="AppointmentType" value="Online Görüşme" required />
                            <span class="option-content"><i>💻</i><span>Online</span></span>
                        </label>
                        <label class="appointment-option">
                            <input type="radio" name="AppointmentType" value="Yüz Yüze Görüşme" required />
                            <span class="option-content"><i>👤</i><span>Yüz Yüze</span></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group half">
                    <label class="form-label" for="apptDate">Randevu Tarihi *</label>
                    <input type="date" class="form-control" id="apptDate" name="AppointmentDate" required />
                </div>
                <div class="form-group half">
                    <label class="form-label" for="apptTime">Randevu Saati *</label>
                    <select class="form-control" id="apptTime" name="AppointmentTime" required>
                        <option value="">Saat seçiniz</option>
                        <option value="09:00">09:00</option>
                        <option value="17:30">17:30</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label" for="apptNote">Ek Bilgiler</label>
                    <textarea class="form-control" id="apptNote" name="Message" rows="4" placeholder="Randevu ile ilgili ek bilgilerinizi buraya yazabilirsiniz..."></textarea>
                </div>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="kvkkConsent" name="KvkkConsent" value="true" class="form-checkbox" required />
                    <span class="checkmark"></span>
                    <span class="checkbox-text">
                        <a href="#" class="kvkk-link">KVKK Aydınlatma Metni</a>'ni okudum ve kabul ediyorum. *
                    </span>
                </label>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <button type="submit" class="btn btn-primary btn-submit">
                    <span class="button-text">Gönder</span>
                    <span class="button-spinner"></span>
                </button>
            </div>
        </div>
    }
</div>

<div id="kvkkModal" class="kvkk-modal" style="display:none;">
    </div>

<script src="/Scripts/contact-appointment-form.js"></script>
